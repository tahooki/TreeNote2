<!doctype html>
<html lang="en"
	style="height: 100%; min-height: 780px; min-width: 992px;">
<head>
<meta charset="utf-8">
<title>Tree</title>

<!-- 라이브러리 -->

<script src="resources/js/jquery.min.js"></script>
<script src="resources/js/jquery-ui.min.js"></script>
<script src="resources/js/go.js"></script>
<script src="resources/js/bootstrap.min.js"></script>

<!-- 트리 리스트 -->
<script src="resources/js/jquery.mCustomScrollbar.concat.min.js"></script>

<link rel="stylesheet" href="resources/css/jquery.mCustomScrollbar.css">
<link rel="stylesheet" href="resources/css/style.css">
<link rel="stylesheet" href="resources/css/treeList.css">

<link rel="stylesheet" href="resources/css/jquery-ui.min.css">
<link rel="stylesheet" href="resources/css/bootstrap.css">
<link rel="stylesheet" href="resources/css/bootstrap.min.css">

<!-- 개발 부분 -->

<script src="resources/js/goImpl.js"></script>
<script src="resources/js/jQueryImpl.js"></script>
<link rel="stylesheet" href="resources/css/tree.css">

<script type="text/javascript">

</script>

<!-- 개발 부분 -->

<!-- <script>
  $(function() {
	  jqueryImpl();
  });
  
  </script> -->
</head>
<body style="height: 100%;">
	<nav class="navbar navbar-fixed-top" id="navbar"
		style="display: none;background-color: #2ECC71;">
		<div class="container" style="padding:0px; width: 992px;">
			<div class="col-xs-4" style="padding:0px;">
				<div class="col-xs-2" style="padding:0px;">
				<img  src="resources/img/btn_treeadd.png" width="40px"
					height="40px" style="margin: 5px;">
				</div>
				<div class="col-xs-1" style="padding:0px;">
				<img src="resources/img/btn_treelist_left.png" width="20px"
					height="40px" style="margin: 5px;">
				</div>
				<div class="col-xs-7" style="padding-top:17px; padding-right:0px; padding-left:0px; color:white; font-family:Jeju Gothic;">여기가 트리 리스트 나오는 곳</div>
				<div class="col-xs-1" style="padding:0px;">
				<img src="resources/img/btn_treelist_right.png" width="20px"
					height="40px" style="margin: 5px;">
				</div>
			</div>

			<div class="col-xs-4 text-center" style="padding:0px;">
				<img src="resources/img/treenote.png" width="280px"
					height="50px" >

			</div>
			<div class="col-xs-4 text-right" style="padding:0px;">
				<img id="btn_mypage" src="resources/img/btn_mypage.png" width="30px" height="30px" style="margin:10px;">
				<img id="btn_search" src="resources/img/btn_search.png" width="30px" height="30px" style="margin:10px;">
				<!--  친구리스트 드롭다운 메뉴 -->
				<div style="display:inline-block">
					<span class="dropdown-toggle " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" width="30px" height="30px" style="margin:10px;cursor:pointer;clear:both;z-index:100">
						<span class="label label-danger" style="position: absolute;display: inline;border-radius: .25em;vertical-align: top;opacity: .5;top: 6px;margin-left: 20px">2</span>
						<img id="btn_friend" src="../resources/img/btn_friend.png" style="width:30px;height:30px;" >
					</span>
					<div class="dropdown-menu dropdown-right" style="padding-top:0px; right:0px">
	                        <div class="dropdown-header list-group-item-success" style="margin-top:0px">
	                           Friend List
	                            <ul class="actions a-alt">
	                                <li><a href=""><i class="zmdi zmdi-check-all"></i></a></li>
	                            </ul>
	                        </div>
	                        <div class="list-group lg-alt">
	                        	<p id="friendListDropdown" style="display:none"></p> 
<!-- 	                            <div class="view-more">View more</div> -->
	                        </div>
	                    </div>
				</div>
				
<!-- 				알림창 -->
				<div style="display:inline-block">
					<span class="dropdown-toggle " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" width="30px" height="30px" style="margin:10px;cursor:pointer;clear:both;z-index:100">
						<span class="label label-danger" style="position: absolute;display: inline;border-radius: .25em;vertical-align: top;opacity: .5;top: 6px;margin-left: 20px">2</span>
						<img id="btn_friend" src="../resources/img/btn_alam.png" style="width:30px;height:30px;" >
					</span>
					<div class="dropdown-menu dropdown-right" style="padding-top:0px;right:0px">
	                        <div class="dropdown-header list-group-item-success" style="margin-top:0px">
	                           Alert List
	                            <ul class="actions a-alt">
	                                <li><a href=""><i class="zmdi zmdi-check-all"></i></a></li>
	                            </ul>
	                        </div>
	                        <div class="list-group lg-alt">
	                        	<p id ="alertDropdown" style="display:none"></p> 
<!--   	                            <div class="view-more">View more</div> -->
	                        </div>
	                    </div>
				</div>
				<!---------------------------------------------------------------->
				<img id="btn_logout" src="resources/img/btn_logout.png" width="30px" height="30px" style="margin:10px;">	
			</div>
			<!--/.navbar-collapse -->
		</div>
	</nav>






	<div id="treeContainer"
		style="display: none; max-width: 992px; width: 100%; height: 100%; margin: 0 auto; background: #E4E4E4;">


		<div id="base"
			style="position: relative; width: 100%; height: 100%; float: left; padding-top: 50px; display: none;">
			<div id="myDiagram"
				style="position: relative; background: #E4E4E4; float: left; width: 100%; height: 100%"></div>

			<div class="timeline-out" id="timeline"
				style="overflow-x: hidden; overflow-y: visible;">

				<div id="timelinec" style="">
					<input type="text" id="search" class="form-control"
						style="width: 180px; border: 0; margin: 0 auto; border-radius: 5px;">
					<div id="keywordTop" style="height: 25px;"></div>
				</div>
			</div>

			<div id="content" style="display: none;"></div>

			<div id="reply" style="display: none;"></div>

			<div id="mypage" style="display: none;"></div>

			<div id="userpage" style="display: none;"></div>

			<div id="treelist" style="display: none;">
				<div id="demo" class="showcase">
					<section id="examples">
						<!-- content -->
						<h3 id="userNo">TreeTitle</h3>
						<h3 id="treeTitle"></h3>
						<div id="content-9" class="content vertical-images">
							<ul id="treeList">
								<h2 id="count">TreeList:</h2>
								<li id="list"></li>
							</ul>
						</div>
					</section>
				</div>
			</div>

		</div>

		<!-- style="width: 200px; height: 100%; border: 2px solid #00FF00; background: #efefef; float: right; display: none; -->

	</div>

	<div id="dialog" title="Basic dialog"
		style="display: none; width: 100%;">
		<p>This is the default dialog which is useful for displaying
			information. The dialog window can be moved, resized and closed with
			the 'x' icon.</p>
	</div>
	<!-- /container -->
	<input id="inputText" type="text" class="form-control"
		style="display: none; width: auto; border-radius: 5px; font-family: Jeju Gothic;">

	<div id="keywordTemp">
		<div id="temp" class="keyword"
			style="width: 180px; height: 100px; margin: 0 auto; margin-bottom: 15px; border-radius: 15px; display: none; background: #55aa55;">
			<div id="name"
				style="text-align: left; font-size: 20px; font-family: Jeju Gothic; padding: 10px"></div>
			<span class="btn_copy"
				style="font-size: 15px; padding: 2px; width: 40px; height: 20px; border: 2px solid #00ff00; margin-left: 10px; margin-bottom: 10px; border-radius: 5px; background: #ddd; display: none;">복사</span>
			<span class="btn_add"
				style="font-size: 15px; padding: 2px; width: 40px; height: 20px; border: 2px solid #00ff00; margin-left: 10px; margin-bottom: 10px; border-radius: 5px; background: #ddd; display: none;">추가</span>
			<input id="data" type="hidden">
		</div>
	</div>
	
	<!-- <div id="tempa" class="keyworda" style="position:relative; width: 180px; height: 100px; margin: 0 auto; margin-bottom: 15px; padding:8px; border-radius: 15px; background: #55aa55;">
		<div>
			<div class="col-xs-6" style="padding: 0; margin:0;">
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee;">키워드????</span>
			</div> 
			<div class="col-xs-6 text-right" style="padding: 0; margin:0;">
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; color:white;">by홍길동</span>
			</div>
		</div>
		<div>
			<div class="col-xs-12 text-left" style="padding: 0; margin-bottom:-5px;">
				<span id="namea" style="font-size: 20px; font-family: Jeju Gothic; padding:2px;">키워드????</span>
			</div>
		</div>
		<div>
			<div class="col-xs-12 text-left" style="padding: 0; margin:0; display:inline;">
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee; white-space:nowrap;">키워드????</span>
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee; white-space:nowrap;">키워드????</span>
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee; white-space:nowrap;">키워드????</span>
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee; white-space:nowrap;">키워드????</span>
				<span id="namea" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee; white-space:nowrap;">키워드????</span>
			</div>
		</div>
			<span class="btn_copy"
				style="font-size: 15px; padding: 2px; width: 40px; height: 20px; border: 2px solid #00ff00; margin-left: 10px; margin-bottom: 10px; border-radius: 5px; background: #ddd; display: none;">복사</span>
			<span class="btn_add"
				style="font-size: 15px; padding: 2px; width: 40px; height: 20px; border: 2px solid #00ff00; margin-left: 10px; margin-bottom: 10px; border-radius: 5px; background: #ddd; display: none;">추가</span>
			<input id="data" type="hidden">
		</div> -->
<!-- //핸들바 js파일 추가 -->
<script type="text/javascript" src="../resources/js/handlebars.min.js"></script>

<script type="text/javascript">
	$("#navbar").show("slide", {
		direction : "up"
	}, 1000);
	$("#loginContainer").css("display","none");
	$('#treeContainer').css('display','block');
	$("#timeline").delay(1000).show("slide", {
		direction : "right"
	}, 500);
	$("#base").delay(1000).show("fade", 500);
	setTimeout("goImpl()", 2000);
	
	(function($){
		$(window).load(function(){
			$("#content-9").mCustomScrollbar({
				scrollButtons:{enable:true,scrollType:"stepped"},
				theme:"rounded-dark",
				scrollbarPosition:"outside"
			});
			
		});
	})(jQuery);

</script>


<!--  핸들바 탬플릿  -->
<script id="alertList" type="text/x-handlebars-template">
{{#each friend}}
<div class="list-group-item " href="" style="margin:0px;border:0px;{{#checkStatus requestStatus}} {{/checkStatus}}">
	<div class="pull-left"> 
		<img class="img-avatar" src="{{#checkPhoto photo}}{{/checkPhoto}}" alt="" width="40" height="40">
	</div>
	  
     <div class="pull-right" >
        <img class="img-avatar" src="/resources/img/minus3.png" alt="" width="40" height="40">
    </div>

     <div class="pull-right" style="margin-right:10px;">
        <img class="img-avatar"  src="/resources/img/circle108.png" alt="" width="40" height="40" >
    </div>
	
    
    <div class="media-body" >
        <div class="list-group-item-heading" style="margin-left:7px">{{name}} </div>
        <small class="list-group-item-text c-gray" style="margin-left:7px">{{email}}</small>
    </div>
</div>
{{/each}}
</script>

<!-- //핸들바 이용 서버에서 가져온 친구 정보 입력 -->
<script type="text/javascript">
	$.getJSON('/user/listFriend', function(obj) {
		Handlebars.registerHelper( "checkStatus", function ( status ){
		    if (status == 2 && status !=0)
		    {
		        return 'display: none"'
		    }
		    else
		    {
		        return ;
		    }
		});
		Handlebars.registerHelper( "checkPhoto", function ( status ){
		    if (status !=null )
		    {
		        return status
		    }
		    else
		    {
		        return '../resources/img/man.jpg';
		    }
		});
		
		Handlebars.registerHelper( "checkStatus2", function ( status ){
		    if (status != 2 )
		    {
		        return 'display: none"'
		    }
		    else
		    {
		        return ;
		    }
		});

		
		var tr2;
		var templateSource2 = $("#friendlist").html();
		var template2 = Handlebars.compile(templateSource2);
		tr2 = template2(obj);
		console.log(tr2);
		$('#friendListDropdown').before(tr2)
		
		
		var tr;
		var templateSource = $("#alertList").html();
		var template = Handlebars.compile(templateSource);
		tr = template(obj);
		console.log(tr);
		$('#alertDropdown').before(tr)
		
		
	});
</script>

<script id="friendlist" type="text/x-handlebars-template">
{{#each friend}}
<div class="list-group-item " href="" style="margin:0px;border:0px;{{#checkStatus2 requestStatus}} {{/checkStatus2}}">
	<div class="pull-left"> 
		<img class="img-avatar" src="{{#checkPhoto photo}}{{/checkPhoto}}" alt="" width="40" height="40">
	</div>
	  
     <div class="pull-right" >
        <img class="img-avatar" src="../resources/img/minus3.png" alt="" width="40" height="40">
    </div>

     <div class="pull-right" style="margin-right:10px;">
        <img class="img-avatar"  src="../resources/img/circle108.png" alt="" width="40" height="40" >
    </div>
	
    
    <div class="media-body" >
        <div class="list-group-item-heading" style="margin-left:7px">{{name}} </div>
        <small class="list-group-item-text c-gray" style="margin-left:7px">{{email}}</small>
    </div>
</div>
{{/each}}
</script>


<script id="searchListTemplate" type="text/x-handlebars-template">
{{#list}}
<div id="{{keyword.key}}" class="keyword" style="position:relative; width: 180px; height: 100px; margin: 0 auto; margin-bottom: 15px; padding:8px; border-radius: 15px; background: {{keyword.color}};">
	<div>
		<div class="col-xs-6" style="padding: 0; margin:0;">
			<span id="parentKeyword" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: {{parentKeyword.color}};">{{parentKeyword.keyword}}
				<input type="hidden" value="{{parentKeyword}}">
			</span>
		</div> 
		<div class="col-xs-6 text-right" style="padding: 0; margin:0;">
			<span id="user" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; color:white;">{{user.name}}
				<input type="hidden" value="{{user}}">
			</span>
		</div>
	</div>
	<div>
		<div class="col-xs-12 text-left" style="padding: 0; margin-bottom:-5px;">
			<span id="keyword" style="font-size: 20px; font-family: Jeju Gothic; padding:2px;"><input type="hidden" value="">{{keyword.keyword}}
				<input type="hidden" value="{{keyword}}">
			</span>
		</div>
	</div>
	<div>
		<div class="col-xs-12 text-left" style="padding: 0; margin:0; display:inline;">
			<span id="childkeyword" style="font-size: 10px; font-family: Jeju Gothic; padding:2px; padding-top:3px; border-radius: 5px; background: #eeeeee; white-space:nowrap;"><input type="hidden" value=""></span>
		</div>
	</div>
</div>
{{/list}}
</script>


<!-- //핸들바 이용 서버에서 가져온 친구 정보 입력 -->
<script type="text/javascript">
	$.getJSON('/user/listFriend', function(obj) {
		var tr;
		var templateSource = $("#boardTrTemplate").html();
		var template = Handlebars.compile(templateSource);

		tr = template(obj);
		console.log(tr);
		$('li[role=separator]').before(tr)
	});


	function setSearchList(data){
		var templateSource = $("#searchListTemplate").html();
		console.log(templateSource);
		var template = Handlebars.compile(templateSource);
		console.log(data);
		console.log(template);
		console.log(template(data));
		return template(data);
	}

</script>



</body>
</html>